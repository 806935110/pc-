"use strict";require(["config"],function(){require(["jquery","template","load","carousel"],function(a,t){a.cookie.json=!0;var e=a.cookie("shangping");a(".id").text(e.id),a("h5").text(e.title),a("h3").text(e.price),a(".im").attr("src",e.img),a.fn.extend({show:function(){this.css("display","block")},hide:function(){this.css("display","none")},offset:function(t){if(void 0===t){for(var e=0,o=0,n=this[0];null!==n;)e+=n.offsetTop,o+=n.offsetLeft,n=n.offsetParent;return{top:e,left:o}}for(var i=0,s=this.length;i<s;i++){for(var r=this[i],f=r.offsetParent,u=0,c=0;null!==f;)u+=f.offsetTop,c+=f.offsetLeft,f=f.offsetParent;u=t.top-u,c=t.left-c,a(r).css({top:u+"px",left:c+"px"})}return this},position:function(){return{top:this[0].offsetTop,left:this[0].offsetLeft}}}),{enter:function(){a(".len,.big").show()},leave:function(){a(".len,.big").hide()},move:function(t){t=t||event,a(".len").offset({top:t.pageY-50,left:t.pageX-50});var e=a(".len").position().top,o=a(".len").position().left;e<0?e=0:300<e&&(e=300),o<0?o=0:300<o&&(o=300),a(".len").css({top:e+"px",left:o+"px"}),a("#big_img").css({top:-1*e+"px",left:-1*o+"px"})},register:function(){var t=this;a(".middle").on("mouseenter",function(){t.enter()}).on("mouseleave",function(){t.leave()}).on("mousemove",function(){t.move()})}}.register(),a(".bt").click(function(){var t={id:a(".id").text(),img:a("#big_img").attr("src"),title:a("h5").text(),price:a("h3").text(),sub:a("h3").text(),amount:1};a.cookie.json=!0;var e,o=a.cookie("products");-1===(e=0<(o=o||[]).length?function(t,e){for(var o=0,n=t.length;o<n;o++)if(t[o].id==e)return o;return-1}(o,t.id):-1)?o.push(t):o[e].amount+=t.amount,a.cookie("products",o,{expires:7,path:"/"}),a.cookie.json=!0;var n=a.cookie("products");a.cookie("loginUser");return n?a(".cart_sum").text(n.length):a(".cart_sum").text(0),location.reload(),!1}),a(".minus").click(function(){Number(a(".amount").val());1?a(".amount").val(1):a(".amount").val(0)}),a(".add").click(function(){var t=Number(a(".amount").val());a(".amount").val(t+1)})})});