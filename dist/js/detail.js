"use strict";require(["config"],function(){require(["jquery","template","load","carousel"],function(l,t){l.cookie.json=!0;var e=l.cookie("shangping");l(".id").text(e.id),l("h5").text(e.title),l("h3").text(e.price),l(".im").attr("src",e.img),l.fn.extend({show:function(){this.css("display","block")},hide:function(){this.css("display","none")},offset:function(t){if(void 0===t){for(var e=0,o=0,n=this[0];null!==n;)e+=n.offsetTop,o+=n.offsetLeft,n=n.offsetParent;return{top:e,left:o}}for(var i=0,f=this.length;i<f;i++){for(var s=this[i],r=s.offsetParent,u=0,c=0;null!==r;)u+=r.offsetTop,c+=r.offsetLeft,r=r.offsetParent;u=t.top-u,c=t.left-c,l(s).css({top:u+"px",left:c+"px"})}return this},position:function(){return{top:this[0].offsetTop,left:this[0].offsetLeft}}}),{enter:function(){l(".len,.big").show()},leave:function(){l(".len,.big").hide()},move:function(t){t=t||event,l(".len").offset({top:t.pageY-50,left:t.pageX-50});var e=l(".len").position().top,o=l(".len").position().left;e<0?e=0:300<e&&(e=300),o<0?o=0:300<o&&(o=300),l(".len").css({top:e+"px",left:o+"px"}),l("#big_img").css({top:-1*e+"px",left:-1*o+"px"})},register:function(){var t=this;l(".middle").on("mouseenter",function(){t.enter()}).on("mouseleave",function(){t.leave()}).on("mousemove",function(){t.move()})}}.register(),l(".bt").click(function(){var t={id:l(".id").text(),img:l("#big_img").attr("src"),title:l("h5").text(),price:l("h3").text(),sub:l("h3").text(),amount:1};l.cookie.json=!0;var e,o=l.cookie("products");return-1===(e=0<(o=o||[]).length?function(t,e){for(var o=0,n=t.length;o<n;o++)if(t[o].id==e)return o;return-1}(o,t.id):-1)?o.push(t):o[e].amount+=t.amount,l.cookie("products",o,{expires:7,path:"/"}),location="/html/cart.html",!1}),l(".minus").click(function(){Number(l(".amount").val());1?l(".amount").val(1):l(".amount").val(0)}),l(".add").click(function(){var t=Number(l(".amount").val());l(".amount").val(t+1)})})});